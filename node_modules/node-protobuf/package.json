{
  "name": "node-protobuf",
  "version": "1.0.10",
  "description": "A Node.js protocol buffer wrapper",
  "author": {
    "name": "Dmitry Gorbunov"
  },
  "main": "./build/Release/protobuf.node",
  "repository": {
    "type": "git",
    "url": "https://github.com/fuwaneko/node-protobuf"
  },
  "dependencies": {},
  "engines": [
    "node >= 0.10.0"
  ],
  "licence": "MIT",
  "devDependencies": {
    "grunt": "~0.4.1",
    "grunt-release": "~0.5.1"
  },
  "scripts": {
    "install": "node-gyp rebuild"
  },
  "gypfile": true,
  "readme": "# node-protobuf\n\n[![Build Status](https://travis-ci.org/fuwaneko/node-protobuf.png?branch=master)](https://travis-ci.org/fuwaneko/node-protobuf)\n\nIt's a very simple wrapper around protocol buffers library by Google.\nIt uses dynamic message building and parsing based on protocol schema you can get by compiling protocol description.\nI know that wrappers do exist, but I didn't like them.\n\n## Issues\n\n* There is no check for required fields present when serializing\n\n## Roadmap\n\n+ Add support for serializing and parsing int64 from/to JS String\n+ Add asynchronous serialize and parse\n+ Refactor code to make it more readable\n+ Add check for required fields present when serializing\n\n## Changelog\n\n### 1.0.8\n\n+ Fixed build on Mac OS X 10.9\n+ Updated README with better example\n\n### 1.0.7\n\n+ Fixed segfault on incorrect schema name.\n\n### 1.0.6\n\n+ Added check for correct argument type and handling for malformed protocol buffers.\n\n### 1.0.5\n\n+ Fixed incorrect parsing of byte datatype. Now it's parsed as Node.js Buffer and Buffer can be serialized into byte field. Big thanks to [xanm](https://github.com/AlexMarlo) for contributing.\n\n### 1.0.4\n\n+ Fixed incorrect parsing of optional nested messages\n\n### 1.0.3\n\n+ Fixed incorrect parsing of optional values (now they are omitted from result object if not present)\n\n### 1.0.2\n\n+ Added experimental support for 64-bit precision integers (look below for constructor arguments)\n\n## Requirements\n\n* Protocol Buffers >= 2.1.0\n* Node.js >= 0.10.0\n\n## Installation\n\n### Linux\n\nMake sure you have node, node-gyp, compiler and libprotobuf binary and development files. Then install: ``` npm install node-protobuf ```\nSimple, huh?\n\n### Windows\n\nFirst you have to obtain Microsoft Visual C++ 2010. Express is fine, but if you install SP1 then you'll need to reinstall x64 compilers from [here](http://www.microsoft.com/en-us/download/details.aspx?id=4422). Node.js distribution for Windows already includes node-gyp tool, so you don't need to worry about it.\n\nNext, compile libprotobuf. Get it from Google, open vsprojects/protobuf.sln and compile it according to your OS version. For Windows 64 you *must* compile 64-bit library as Node.js is 64-bit on your system. By default there is only 32-bit target, so you have to add 64-bit manually. Open libprotobuf project properties and set CRT to Multi-Threaded (*not* DLL). Compile libprotobuf Release.\n\nNext, run vsprojects/extract-includes.bat, it will copy required headers in vsprojects/include.\n\nCreate LIBPROTOBUF environment variable pointing to some folder where you'll put libprotobuf files. You can use SET LIBPROTOBUF=path from command line prompt, or use tool like RapidEE. Put libprotobuf.lib to $(LIBPROTOBUF)/lib and include files to $(LIBPROTOBUF)/include. You're done.\n\nNow just ``` npm install node-protobuf ``` and it should be fine.\n\n### Mac OS X\n\nLooks like it's as simple as ``` brew install protobuf ``` before installing npm.\n\n## Usage\n\nYou are *not* required to generate any JS code from your protocol buffer description. Everything happens dynamically.\n\n```\nvar fs = require(\"fs\")\nvar p = require(\"node-protobuf\").Protobuf\n// WARNING: next call will throw if desc file is invalid\nvar pb = new p(fs.readFileSync(\"protocol.desc\")) // obviously you can use async methods, it's for simplicity reasons\nvar obj = {\n\t\"name\": \"value\"\n}\ntry {\n\tvar buf = pb.Serialize(obj, \"MySchema\") // you get Buffer here, send it via socket.write, etc.\n} catch (e) {\n\t// will throw if MySchema does not exist\n}\ntry {\n\tvar newObj = pb.Parse(buf, \"MySchema\") // you get plain object here, it should be exactly the same as obj\n} catch (e) {\n\t// will throw on invalid buffer or if MySchema does not exist\n}\n```\n\n### Construct\n\n**Protobuf(buffer[, preserve_int64])**\n\nParses binary buffer holding schema description. You can get schema by calling ```protoc protocol.proto -o protocol.desc```.\n\nOptional preserve_int64 argument allows to pass int64/uint64 numbers to/from JavaScript in a form of array consisting of high and low bits of such numbers: [hi, lo]. Note, that this is highly experimental and you must work with such numbers only if you really need such whole presicion. In any other case I recommend to use int32/uint32 or double if you need more precision. I added this functionality so JS programs working with existing protocol buffers enabled software could get same amount of presicion when transferring int64/uint64.\n\nPlease note, that both high and low bits must be unsigned if you want to Parse. Serialize will return unsigned only too. You have to work with bit parts to create full number using some other library, e.g. [Int64](https://github.com/broofa/node-int64).\n\nAlso, if you don't care about int64/uint64 presicion in JS, you can forget about preserve_int64 and all 64-bit integers that come to Serialize will become just Numbers, but if they are bigger than 2^53 you'll lose some data.\n\n### Serialize\n\n**Protobuf.Serialize(object, schema)**\n\nSerializes plain object with accordance to protocol schema (i.e. message described in you protocol description file). Returns Node.js Buffer. Throws an exception if schema does not exist.\n\n### Parse\n\n**Protobuf.Parse(buffer, schema)**\n\nParses Buffer (or UInt8Array for example, just anything that is binary data array) according to schema and returns plain object. If first argument isn't a Buffer, throws an exception. If Buffer is malformed (i.e. not a Protobuf), throws an exception.",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/fuwaneko/node-protobuf/issues"
  },
  "homepage": "https://github.com/fuwaneko/node-protobuf",
  "_id": "node-protobuf@1.0.10",
  "dist": {
    "shasum": "eed49087eec849e01f4d626952bca6ea0e031c66"
  },
  "_from": "node-protobuf@",
  "_resolved": "https://registry.npmjs.org/node-protobuf/-/node-protobuf-1.0.10.tgz"
}
